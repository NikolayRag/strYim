Stryim should be (todo) a modular 264/AAC to RTMP live remuxer.
Default (and main) input module is Yi4k lossless stream reader.


App:
	if gui:
		{Gui}

	{AVIn}[]
	{OutFLV}
	{Switch}

	if cmdline:
		switch {Switch} to specified {AVIn}
		switch {Switch} to {OutFLV}

		start specified {AVIn}
		start {OutFLV}

		wait exit


Gui:
	- add/remove {AVIn}
	- switch {Switch} to {AVIn}
	- start/stop {OutFLV}


Switch:
	- assign {AVIn} to {OutFLV} audio
	- assign {AVIn} to {OutFLV} video


AVIn:
	: {InYi4k} ;default
	todo:
		: {inComposed}
		: {inFile}
		: {inRTMPServer}
		: {inRTMPReader}


OutFLV:
	recieve 264/AAC atoms
	mux FLV
	sink:
		- push to RTMP
		- save file
		todo:
			- serve RTMP


RawMP4:
	get raw mp4 data
	recover 264/AAC


InYi4k (RawMP4):
	- deliver stream
		monitor camera actual saved file
		read actual file sequence continously

	- operate camera:
		- set mode
		- start/stop

